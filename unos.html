<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vijesti</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function validateForm() {
            var naslov = document.getElementById("naslov").value.trim();
            var kratkiSadrzaj = document.getElementById("kratki_sadrzaj").value.trim();
            var sadrzaj = document.getElementById("sadrzaj").value.trim();
            var slika = document.getElementById("slika").value.trim();
            var kategorija = document.getElementById("kategorija").value;

            var naslovRegex = /^.{5,30}$/;
            var kratkiSadrzajRegex = /^.{10,100}$/;

            var valid = true;
            var errorMsg = "";

            if (!naslovRegex.test(naslov)) {
                document.getElementById("naslov").style.borderColor = "red";
                valid = false;
                errorMsg += "Naslov vijesti mora imati između 5 i 30 znakova.\n";
            } else {
                document.getElementById("naslov").style.borderColor = "";
            }

            if (!kratkiSadrzajRegex.test(kratkiSadrzaj)) {
                document.getElementById("kratki_sadrzaj").style.borderColor = "red";
                valid = false;
                errorMsg += "Kratki sadržaj vijesti mora imati između 10 i 100 znakova.\n";
            } else {
                document.getElementById("kratki_sadrzaj").style.borderColor = "";
            }

            if (sadrzaj === "") {
                document.getElementById("sadrzaj").style.borderColor = "red";
                valid = false;
                errorMsg += "Tekst vijesti ne smije biti prazan.\n";
            } else {
                document.getElementById("sadrzaj").style.borderColor = "";
            }

            if (slika === "") {
                document.getElementById("slika").style.borderColor = "red";
                valid = false;
                errorMsg += "Morate odabrati sliku.\n";
            } else {
                document.getElementById("slika").style.borderColor = "";
            }

            if (kategorija === "") {
                document.getElementById("kategorija").style.borderColor = "red";
                valid = false;
                errorMsg += "Morate odabrati kategoriju.\n";
            } else {
                document.getElementById("kategorija").style.borderColor = "";
            }

            if (!valid) {
                alert(errorMsg);
            }

            return valid;
        }
    </script>
</head>
<body>
    
    <header>
        <h1>Vijesti</h1>
    </header>
    <nav>
        <ul>
            <li><a href="index.php">Početna</a></li>
            <li><a href="about.html">O meni</a></li>
            <li><a href="contact.html">Kontakt</a></li>
            <li><a href="unos.html">Unos novosti</a></li>
            <li><a href="kategorija.php?kategorija=Sport">Sport</a></li>
            <li><a href="kategorija.php?kategorija=Kultura">Kultura</a></li>
            <li><a href="administrator.php">Administrator</a></li>
            <li><a href="registracija.php">Registracija</a></li>
        </ul>
    </nav>
    <main>
        <section>
            <h2>Unesite novu vijest</h2>
            <form action="skripta.php" method="post" enctype="multipart/form-data">
                <label>Naslov vijesti:</label><br>
                <input type="text" name="naslov" required><br><br>
                
                <label>Kratki sadržaj:</label><br>
                <textarea name="kratki_sadrzaj" rows="5" required></textarea><br><br>
                
                <label>Sadržaj vijesti:</label><br>
                <textarea name="sadrzaj" rows="10" required></textarea><br><br>
                
                <label>Autor:</label><br>
                <input type="text" name="autor" required><br><br>
                
                <label>Kategorija:</label><br>
                <select name="kategorija" required>
                    <option value="sport">Sport</option>
                    <option value="kultura">Kultura</option>
                </select><br><br>
                
                <label>Slika:</label><br>
                <input type="file" name="slika_path" required><br><br>
                
                <label>Arhiviraj vijest:</label>
                <input type="checkbox" name="arhivirano"><br><br>
                
                <input type="submit" value="Unesi vijest">
            </form>
        </section>
    </main>

    <footer>
        <p>Ime i prezime autora: Valentin Pesocky</p>
        <p>Kontakt e-mail: valentin.pesocky@tvz.hr</p>
        <p>Godina izrade: 2024</p>
    </footer>

</body>
</html>

